import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{r}from"./index-CgfFrydU.js";import{W as L,S as P,I as T,a as k,b as l,E as q}from"./style-Ca_MdG4J.js";import{a as W,b as F,I as V,c as A,d as H,e as N}from"./IconAttention--HYYox4d.js";import{a as O,b as h}from"./index-DzNPuTIb.js";const z=r.memo(r.forwardRef(({errorMessage:c=null,validatePattern:y,onBlur:j,onChange:s,label:a,id:w,disabled:o,type:m,value:d,...g},b)=>{const[t,x]=r.useState(c),[p,v]=r.useState(!1),E=r.useId(),n=w||`input-${E}`,u=`${n}-error`,f=r.useRef(null);r.useImperativeHandle(b,()=>f.current),r.useEffect(()=>x(c),[c]);const I=(m??"").toLowerCase()==="password",S=I&&p?"text":m||"text",_=typeof d=="string"&&d.length>0,R=i=>{s==null||s(i)},$=()=>{var i;o||((i=f.current)==null||i.focus(),s==null||s({target:{value:""}}),y&&t&&x(null))};return e.jsxs(L,{role:"group","aria-labelledby":a?`${n}-label`:void 0,"aria-describedby":t?u:void 0,children:[a&&e.jsxs(P,{$invalidInput:!!t,htmlFor:n,id:`${n}-label`,children:[a,o&&e.jsx(W,{width:18,height:18,style:{position:"relative",top:3,marginLeft:3}})]}),e.jsxs(T,{children:[e.jsx(k,{id:n,type:S,value:d,onChange:R,onBlur:j,"aria-invalid":!!t,"aria-describedby":t?u:void 0,"aria-label":a?void 0:"Текстовое поле",disabled:o,ref:f,...g}),t&&e.jsx(l,{style:{color:O},children:e.jsx(F,{width:24,height:24})}),o&&!t&&e.jsx(l,{style:{color:h},children:e.jsx(V,{width:24,height:24})}),_&&!o&&!t&&(I?e.jsx(l,{role:"button","aria-label":p?"Скрыть пароль":"Показать пароль",onClick:()=>v(i=>!i),style:{color:h,cursor:"pointer"},children:p?e.jsx(A,{width:24,height:24}):e.jsx(H,{width:24,height:24})}):e.jsx(l,{role:"button","aria-label":"Очистить поле",onClick:$,style:{color:h,cursor:"pointer"},children:e.jsx(N,{width:24,height:24})}))]}),t&&e.jsx(q,{id:u,children:t})]})}));z.__docgenInfo={description:"",methods:[],displayName:"Input",props:{errorMessage:{required:!1,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:"",defaultValue:{value:"null",computed:!1}},validatePattern:{required:!1,tsType:{name:"RegExp"},description:""},label:{required:!1,tsType:{name:"string"},description:""}}};export{z as I};
